<div class="register-container">
  <!-- ========================================
       BANNER LATERAL IZQUIERDO (40%)
  ======================================== -->
  <div class="register-banner">
    <div class="banner-content">
      <!-- Logo grande -->
      <div class="banner-logo">
        <img src="logo.png" alt="NUâ˜…B Logo" class="banner-logo-image">
      </div>

      <!-- TÃ­tulo y slogan -->
      <h1 class="banner-title">Ãšnete a Nuestra GalerÃ­a</h1>
      <p class="banner-subtitle">Comienza a explorar y coleccionar arte de la Huasteca</p>
      <p class="banner-art-types">Tu viaje artÃ­stico empieza aquÃ­</p>

      <!-- Beneficios -->
      <div class="banner-features">
        <div class="feature-item">
          <span class="feature-icon">ğŸ¨</span>
          <span class="feature-text">Acceso a artistas exclusivos</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸ“¸</span>
          <span class="feature-text">Compra obras autÃ©nticas</span>
        </div>
        <div class="feature-item">
          <span class="feature-icon">ğŸ–¼ï¸</span>
          <span class="feature-text">Personaliza tus favoritos</span>
        </div>
      </div>

      <!-- DecoraciÃ³n -->
      <div class="banner-decoration">
        <div class="decoration-circle circle-1"></div>
        <div class="decoration-circle circle-2"></div>
        <div class="decoration-circle circle-3"></div>
      </div>
    </div>
  </div>

  <!-- ========================================
       FORMULARIO DERECHO (60%)
  ======================================== -->
  <div class="register-form-section">
    <div class="register-card">
      <!-- Logo pequeÃ±o (solo visible en mÃ³vil) -->
      <div class="mobile-logo">
        <img src="logo.png" alt="Logo" class="mobile-logo-image">
      </div>

      <h2 class="register-title">Crear Cuenta</h2>
      <p class="register-subtitle">Ãšnete a nuestra plataforma</p>
      
      <form (ngSubmit)="onRegister()">
        <!-- NOMBRE -->
        <div class="form-group">
          <label for="nombre">
            <span class="label-icon">ğŸ‘¤</span>
            Nombre completo
          </label>
          <input 
            type="text" 
            id="nombre" 
            [(ngModel)]="nombre" 
            name="nombre"
            placeholder="Ej: Juan PÃ©rez"
            class="form-input"
            [disabled]="isLoading"
            required
          />
        </div>

        <!-- EMAIL -->
        <div class="form-group">
          <label for="email">
            <span class="label-icon">ğŸ“§</span>
            Correo electrÃ³nico
          </label>
          <input 
            type="email" 
            id="email" 
            [(ngModel)]="email" 
            name="email"
            placeholder="tu@email.com"
            class="form-input"
            [disabled]="isLoading"
            required
          />
        </div>

        <!-- CONTRASEÃ‘A -->
        <div class="form-group">
          <label for="password">
            <span class="label-icon">ğŸ”’</span>
            ContraseÃ±a
          </label>
          <div class="password-input-wrapper">
            <input 
              [type]="showPassword ? 'text' : 'password'"
              id="password" 
              [(ngModel)]="password" 
              (input)="onPasswordChange()"
              (focus)="onPasswordFocus()"
              (blur)="onPasswordBlur()"
              name="password"
              placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
              class="form-input password-input"
              [disabled]="isLoading"
              required
            />
            <button 
              type="button" 
              class="toggle-password"
              (click)="togglePasswordVisibility()"
              [attr.aria-label]="showPassword ? 'Ocultar contraseÃ±a' : 'Mostrar contraseÃ±a'"
              [disabled]="isLoading"
            >
              <span *ngIf="!showPassword">ğŸ‘ï¸</span>
              <span *ngIf="showPassword">ğŸ™ˆ</span>
            </button>
          </div>

          <!-- BARRA DE FORTALEZA -->
          <div class="password-strength" *ngIf="passwordTouched && password.length > 0">
            <div class="strength-bar">
              <div class="strength-fill" [ngClass]="getPasswordStrengthClass()"></div>
            </div>
            <span class="strength-text" [ngClass]="getPasswordStrengthClass()">
              {{ getPasswordStrengthText() }}
            </span>
          </div>

          <!-- REQUISITOS DE CONTRASEÃ‘A (solo cuando tiene focus) -->
          <div class="password-requirements" *ngIf="showPasswordRequirements">
            <p class="requirements-title">La contraseÃ±a debe tener:</p>
            <div 
              *ngFor="let req of passwordRequirements" 
              class="requirement"
              [class.met]="req.met"
            >
              <span class="req-icon">{{ req.met ? 'âœ…' : 'â­•' }}</span>
              <span class="req-text">{{ req.text }}</span>
            </div>
          </div>
        </div>

        <!-- MENSAJES -->
        <div class="error-message" *ngIf="errorMessage">
          <span class="message-icon">âš ï¸</span>
          {{ errorMessage }}
        </div>

        <div class="success-message" *ngIf="successMessage">
          <span class="message-icon">âœ…</span>
          {{ successMessage }}
        </div>

        <!-- ========================================
     âœ… CHECKBOX DE TÃ‰RMINOS (NUEVO)
======================================== -->
<div class="terms-checkbox-group">
  <label class="checkbox-container">
    <input 
      type="checkbox" 
      [(ngModel)]="aceptoTerminos" 
      name="aceptoTerminos"
      id="aceptoTerminos"
      [disabled]="isLoading"
      required
    />
    <span class="checkmark"></span>
    <span class="checkbox-label">
      Acepto los 
      <a routerLink="/legal/terminos-v1.0" target="_blank" class="terms-link">TÃ©rminos y Condiciones</a>
      y la
      <a routerLink="/legal/privacidad-v1.0" target="_blank" class="terms-link">PolÃ­tica de Privacidad</a>
    </span>
  </label>
</div>

<!-- BOTÃ“N (ahora deshabilitado si no acepta tÃ©rminos) -->
<button 
  type="submit" 
  class="btn-register"
  [disabled]="isLoading || !aceptoTerminos"
  [class.loading]="isLoading"
  [class.disabled-by-terms]="!aceptoTerminos && !isLoading"
>
  <span *ngIf="!isLoading">
    {{ aceptoTerminos ? 'Crear cuenta' : 'Acepta los tÃ©rminos para continuar' }}
  </span>
  <span *ngIf="isLoading" class="loading-spinner">
    <span class="spinner"></span>
    Registrando...
  </span>
</button>
      </form>

      <!-- DIVIDER -->
      <div class="divider">
        <span>o</span>
      </div>

      <!-- FOOTER -->
      <div class="register-footer">
        <p class="login-link">
          Â¿Ya tienes cuenta? 
          <a routerLink="/login" class="link-primary">Inicia sesiÃ³n</a>
        </p>
      </div>
    </div>
  </div>
</div>